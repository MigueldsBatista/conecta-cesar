{% extends "app_cc/aluno/main.html" %}

{% block content %}
<section>
  <!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendário</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<section>
  <div class="box">
      <div class="container">
          <div class="calendar">
              <div class="month">
                  <i class="fas fa-angle-left prev"></i>
                  <div class="date">
                      <h1 class='header'></h1>
                      <h2 class='header'></h2>
                      <p></p>
                  </div>
                  <i class="fas fa-angle-right next"></i>
              </div>
              <div class="weekdays">
                  <div>Dom</div>
                  <div>Seg</div>
                  <div>Ter</div>
                  <div>Qua</div>
                  <div>Qui</div>
                  <div>Sex</div>
                  <div>Sab</div>
              </div>
              <div class="days"></div>
          </div>
      </div>
  </div>
</section>

<script src="script.js"></script>
</body>
</html>

</section>
<script>const date = new Date();

  const dateBr = {weekday: 'short', year: 'numeric', month:'short', day: 'numeric'};
  
  const year = date.getFullYear();
  
  const renderCalendar = () => {
  
  date.setDate(1);
  
  const monthDays = document.querySelector(".days");
  
  const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
  
  const prevLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate();
  
  const firstDayIndex = date.getDay(); 
  
  const lastDayIndex = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDay();  
  
  const nextDays = 7 - lastDayIndex - 1;
  
  const months = [
      "Janeiro",
      "Fevereiro",
      "Março",
      "Abril",
      "Maio",
      "Junho",
      "Julho",
      "Agosto",
      "Setembro",
      "Outubro",
      "Novembro",
      "Dezembro",
  ];
  
  document.querySelector(".date h1").innerHTML = months[date.getMonth()];
  
  document.querySelector(".date p").innerHTML = new Date().toLocaleDateString('pt-BR', dateBr);
  
  document.querySelector(" .date h2").innerHTML = date.getFullYear();
  
  let days =" ";
  
  
  
  for(let x=firstDayIndex; x>0; x--){
      days += `<div class="prev-date">${prevLastDay - x + 1}</div>`
  }
  
   
  for (let i = 1; i <= lastDay; i++) {
      if( i === new Date().getDate() 
      
        && date.getMonth() === new Date().getMonth() 
  
        && date.getFullYear() === new Date().getFullYear(year)
        
      ){
  
        days += `<div class="today">${i}</div>`;
      } 
      else {
        days += `<div>${i}</div>`;
      }
  }
  
  for(let j=1; j<= nextDays; j++){
      days += `<div class="next-date">${j}</div>`;    
  }
  
  monthDays.innerHTML = days;
  
  };
  
  document.querySelector(".prev").addEventListener("click", () => {
      date.setMonth(date.getMonth() - 1);
      renderCalendar();
    });
    
    document.querySelector(".next").addEventListener("click", () => {
      date.setMonth(date.getMonth() + 1);
      renderCalendar();
    });
  
    renderCalendar();
  </script>
  <style>/* Calendário */
    * {
        margin: 0;
        padding: 0;
        font-family: 'Dosis', sans-serif;
        box-sizing: border-box;
    }
    
    section {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        overflow: hidden;
    }
    
    .box {
        position: relative;
        padding-top: 5px;
        padding-bottom: 25px;
        background-color: white;
        z-index: 1000;
        border-radius: 30px;
    }
    
    .container {
        width: 90%; /* Alterado para ajustar à largura da tela */
        max-width: 500px; /* Limitando a largura máxima */
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.5);
        border-right: 1px solid rgba(255, 255, 255, 0.2);
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 0 30px 0 30px;
        align-items: center;
        justify-content: center;
    }
    
    .month {
        width: 100%;
        background-color: #3498db;
        border-radius: 30px 30px 0 0; /* Arredondando apenas no topo */
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 1rem; /* Reduzindo o padding para caber em telas menores */
        text-align: center;
    }
    
    .month i {
        font-size: 1rem;
        cursor: pointer;
    }
    
    .month h1 {
        font-size: 1.4rem; /* Reduzindo o tamanho do cabeçalho */
        text-transform: uppercase;
        font-weight: 400;
    }
    
    .month h2 {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
    }
    
    .month p {
        font-size: 1rem; /* Reduzindo o tamanho do parágrafo */
        font-weight: 400;
        text-transform: uppercase;
    }
    
    .weekdays {
        width: 100%;
        height: 4rem; /* Reduzindo a altura */
        padding: 0 0.2rem; /* Reduzindo o padding */
        display: flex;
        align-items: center;
    }
    
    .weekdays div {
        font-size: 1rem; /* Reduzindo o tamanho da fonte */
        letter-spacing: 0.1rem;
        width: calc(100% / 7);
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .days {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        padding: .2rem;
    }
    
    .days div {
        font-size: 1rem; /* Reduzindo o tamanho da fonte */
        margin: 0.3rem;
        width: calc(100% / 7);
        height: 2.5rem; /* Reduzindo a altura */
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .days div:hover:not(.today) {
        background-color: #3498db;
        border-radius: 0 10px 0 10px;
    }
    
    .prev, .next {
        font-size: 1.2rem; /* Reduzindo o tamanho do ícone */
    }
    
                  </style>
{% endblock content %}
